## 引言

本报告旨在详细说明此次网页开发课程的大作业。该项目利用了 HTML、CSS、JavaScript、Node.js 和 Socket.IO，创建了一个互动且动态的网页。主要功能可以分为简单介绍个人信息（Home页面），详细介绍个人信息（About页面），以及创建一个quiz挑战（Quiz）页面，充分展示和利用了课程中所学的知识。

## 网站设计

### 网站结构

该网站包含三个主要页面：

#### **首页 (Home Page)**：

作为首页面，主要内容包含个人信息的简单介绍，以及一张个人照片，通过此页面，别的用户可以简单了解到我的个人信息。

![image-20250518165909328](C:\Users\Gan\AppData\Roaming\Typora\typora-user-images\image-20250518165909328.png)

该页面的设计亮点为：**通过按钮可以控制屏幕中央的词云进行放大，以展现出一类属性的特征。**比如说，当点击了Hobby这一按钮时，我有关于Hobby的信息就会在下方进行高亮和放大，此时点击旁边空白处即可恢复。同理，其他的按钮也是如此。

![image-20250518165951589](C:\Users\Gan\AppData\Roaming\Typora\typora-user-images\image-20250518165951589.png)

此外，如果你单独将鼠标悬浮在每一个单词的上面，该词云也会放大，但是不会高亮。

![image-20250518170007381](C:\Users\Gan\AppData\Roaming\Typora\typora-user-images\image-20250518170007381.png)

在该页面的下方，有一个蓝色的按钮中显示“Want to know more？Click About！"这意味着你可以通过点击导航栏上方的About按钮跳转到About页面查看更详细的信息，当然你也可以直接点击这个蓝色按钮，这两者的效果是一样的。

#### **关于页面 (About Page)**：

在这个页面中我设计了四张卡片，我将从这四个方面对我进行详细的介绍。你可以通过点击这些卡片查看我的详细信息，在你触发了点击的行为之后，卡片会实现3D翻转效果，将背面的内容显示出来，并且此时的背景会呈现模糊效果。我将卡片中的关键内容进行了标记为蓝色并适当放大的处理，为了是能使得关键信息更加醒目。

![image-20250518170045105](C:\Users\Gan\AppData\Roaming\Typora\typora-user-images\image-20250518170045105.png)

在点击卡片之后，你可以对卡片中的内容进行选中，只有在你点击卡片左上角的Back按钮之后，你才会退出卡片。

![image-20250518170106680](C:\Users\Gan\AppData\Roaming\Typora\typora-user-images\image-20250518170106680.png)

#### **问答页面 (Quiz Page)**：

这个页面实现了一个Quiz 挑战的小游戏，你可以在输入框中输入你的用户名，然后点击Join Game，此时你的用户名会广播到其他用户的主机上，其他用户就可以在下方的Online Player中看到你的名字。当有两个用户都点击Join Game之后，他们就可以在下方点击别人的名字，此时被点击名字的用户会收到挑战请求，他们可以选择接受或者拒绝。

![image-20250518170216346](C:\Users\Gan\AppData\Roaming\Typora\typora-user-images\image-20250518170216346.png)

当点击接受之后，游戏就开始了！

![image-20250518170239382](C:\Users\Gan\AppData\Roaming\Typora\typora-user-images\image-20250518170239382.png)

### 网站样式

*声明：我个人喜欢苹果公司的简约优雅的风格，因此在该网页的风格设计中，我尽可能做到模仿苹果公司的简约大气，圆润以及平滑过渡的设立理念。*

在全局框架中，我使用了`flex` 布局实现 **全屏自适应结构**，使得网页可以在所有页面中自适应显示。导航栏背景为 **半透明毛玻璃层**，悬浮菜单项切换为苹果蓝。在响应式设计下，小屏幕设备自动切换为 **垂直布局**。**卡片系统**中的卡片网格默认双列布局，支持 **悬停抬升**，点击卡片后触发 **模态弹窗**，居中显示，并模糊其他内容。在**游戏化组件**中，**问答游戏界面**包含动态计时条、选项网格和实时积分板，支持多人游戏状态管理，如玩家列表和模态确认框。**词云系统**的词语支持 **分类高亮** 与 **非活跃淡化**，悬停时放大并添加阴影。



## 问答应用

#### 客户端功能  
客户端功能设计全面覆盖用户交互、实时同步与系统稳定性三大核心模块。

**在交互层面**，玩家可通过注册姓名加入游戏大厅，动态刷新的在线列表支持点击发起挑战，进入对战后面板实时渲染题目、图片及倒计时进度条，选中答案后即时锁定界面并通过视觉反馈高亮正误选项，同时整合多类弹窗（如挑战请求、结果提示与退出确认）实现流畅的导航控制。

![image-20250518173744148](C:\Users\Gan\AppData\Roaming\Typora\typora-user-images\image-20250518173744148.png)

**状态管理方面**，客户端通过监听服务器事件（如游戏开始、题目更新、分数变动）动态同步对局进度与对手状态，并针对异常场景（如对手退出）自动弹出提示并重置界面。

![image-20250518173817430](C:\Users\Gan\AppData\Roaming\Typora\typora-user-images\image-20250518173817430.png)

**容错机制**上，采用页面关闭拦截与游戏状态变量维护，防止意外操作导致数据丢失，确保即便在刷新或跳转时也能保持对局完整性，从而兼顾用户体验与系统鲁棒性。

![image-20250518173857129](C:\Users\Gan\AppData\Roaming\Typora\typora-user-images\image-20250518173857129.png)

#### 服务器端逻辑  
服务器端逻辑以高效管理和实时协作为核心，构建了完整的游戏生命周期体系。通过动态维护在线玩家列表（`players` 数组）和游戏实例（`games` 对象），服务器能够实时追踪玩家状态并支持多对局并行运行。在挑战流程中，服务器充当协调中枢——转发挑战请求、管理待响应列表，并在接受挑战后初始化游戏数据。问答阶段，服务器严格验证答案并智能分配分数：优先奖励首个答对者，同时根据对手错误情况补充计分，确保规则透明。每轮结束后，服务器自动推进至下一题或结束对局，并通过清理临时状态保持数据一致性。面对异常场景（如玩家主动退出或意外断线），服务器即时触发清理机制，通知受影响玩家并回收资源，从而在复杂交互中维持系统稳定性和公平性。

#### 客户端与服务器交互机制  
客户端与服务器的交互机制基于**Socket.IO**的事件驱动框架，构建了一套高效且容错的实时通信体系。在**核心流程**中，客户端通过事件注册玩家身份后，服务器即时同步全局玩家列表，形成动态对战大厅；挑战环节通过事件转发与响应机制实现——发起方推送请求，目标玩家通过弹窗交互确认，服务器随即创建独立游戏会话并分配资源。**问答过程**中，答案提交与验证完全事件化：客户端发送答案后，服务器快速计算正误并广播结果，确保双方界面同步停止倒计时、高亮正误选项，且分数变动实时可见。数据流设计上，服务器作为单一数据源持续推送题目与状态更新，客户端专注界面渲染，从根本上杜绝状态分歧。面对异常场景，系统通过**双重保障机制维持稳定**：服务器主动监测断线事件并通知受影响方，客户端则在页面关闭前强制确认，防止意外退出破坏对局完整性，形成从操作到异常的全链路闭环管理。

### 反思

#### 遇到的挑战

在开发的过程中，我们遇到了一些实际问题，但也一步步找到了解决方法。起初，我们以为两位用户可以同时答题，结果发现这样容易出问题，比如答案被覆盖、显示混乱等。后来我们改成了“抢答制”，谁先答就锁住选项，这样不但避免了混乱，还让整个过程更有紧张感和趣味性。在分数更新方面，一开始常常出现两个用户看到的分数不一样，或者明明答对了却显示红色。我们查找原因后，对数据传输和显示方式进行了改进，让分数能及时准确地同步显示，提升了整体稳定性。

#### 学到的经验

这次开发，我不仅提升了编程能力，还学到了很多解决问题的技巧。比如在设计网页样式时，我用AI工具帮忙生成了符合苹果风格的配色和阴影效果，让页面看上去更专业也更统一。我还参考了网上一些开源项目，把词云做成了可以动的，让页面更有趣、生动。在处理一些技术问题时，比如分数延迟更新，我一步步排查问题，通过打印日志找到根源，最后调整了数据传输方式，成功解决了问题。为了防止用户误操作，我还加入了一些贴心的功能，比如答题时会弹出确认提示，退出页面会有提醒，网络波动时系统也能保持运行不中断。